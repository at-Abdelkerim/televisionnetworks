import { Box, Button, Modal, TextField, Typography } from '@mui/material';
import { ReactNode, useState } from 'react';

export default function SearchBar({
  page,
  formList,
}: {
  page: string;
  formList?: ReactNode;
}) {
  const [modal, setModal] = useState(false);
  return (
    <div className="mb-5 flex h-10 gap-x-5">
      <TextField
        size="small"
        fullWidth
        variant="standard"
        color="primary"
        className="bg-[#ECECEC]  "
        sx={{
          '& .MuiInputBase-root:before,.MuiInputBase-root:hover:before,.MuiInputBase-root:has(input:hover)::before,.MuiInputBase-root:has(:is(input:hover,input:focus-visible))::after':
            {
              border: 'none',
            },
        }}
        InputProps={{
          startAdornment: (
            <svg viewBox="0 0 49 49" fill="none" className="h-5 w-5 p-3">
              <path
                d="M34.7222 30.5556H32.5278L31.75 29.8056C34.5663 26.5389 36.1142 22.3686 36.1111 18.0556C36.1111 14.4845 35.0522 10.9937 33.0682 8.02443C31.0842 5.05521 28.2643 2.74099 24.9651 1.37441C21.6659 0.00782319 18.0355 -0.349737 14.5331 0.346941C11.0307 1.04362 7.81347 2.76324 5.28836 5.28836C2.76324 7.81347 1.04362 11.0307 0.346941 14.5331C-0.349737 18.0355 0.00782319 21.6659 1.37441 24.9651C2.74099 28.2643 5.05521 31.0842 8.02443 33.0682C10.9937 35.0522 14.4845 36.1111 18.0556 36.1111C22.5278 36.1111 26.6389 34.4722 29.8056 31.75L30.5556 32.5278V34.7222L44.4444 48.5833L48.5833 44.4444L34.7222 30.5556ZM18.0556 30.5556C11.1389 30.5556 5.55556 24.9722 5.55556 18.0556C5.55556 11.1389 11.1389 5.55556 18.0556 5.55556C24.9722 5.55556 30.5556 11.1389 30.5556 18.0556C30.5556 24.9722 24.9722 30.5556 18.0556 30.5556Z"
                fill="currentColor"
                fill-opacity="0.6"
                strokeWidth={10}
              />
            </svg>
          ),
          className: 'border-none outline-none shadow-none',
        }}
      />
      <Button
        startIcon={
          <svg viewBox="0 0 43 50" fill="none" className="h-5 w-5">
            <path
              d="M42.3963 23.2719V45.3917C42.3963 46.6139 41.9108 47.7861 41.0466 48.6503C40.1824 49.5145 39.0102 50 37.788 50H4.60829C3.3861 50 2.21396 49.5145 1.34974 48.6503C0.485515 47.7861 0 46.6139 0 45.3917V23.2719C0 22.0497 0.485515 20.8776 1.34974 20.0134C2.21396 19.1491 3.3861 18.6636 4.60829 18.6636H9.21659C9.94991 18.6636 10.6532 18.9549 11.1717 19.4735C11.6903 19.992 11.9816 20.6953 11.9816 21.4286C11.9816 22.1619 11.6903 22.8652 11.1717 23.3837C10.6532 23.9023 9.94991 24.1936 9.21659 24.1936H5.52995V44.4701H36.8664V24.1936H33.1797C32.4464 24.1936 31.7431 23.9023 31.2246 23.3837C30.7061 22.8652 30.4147 22.1619 30.4147 21.4286C30.4147 20.6953 30.7061 19.992 31.2246 19.4735C31.7431 18.9549 32.4464 18.6636 33.1797 18.6636H37.788C39.0102 18.6636 40.1824 19.1491 41.0466 20.0134C41.9108 20.8776 42.3963 22.0497 42.3963 23.2719ZM13.9378 14.1682L18.4332 9.67746V28.8019C18.4332 29.5352 18.7245 30.2385 19.243 30.757C19.7616 31.2755 20.4648 31.5669 21.1982 31.5669C21.9315 31.5669 22.6348 31.2755 23.1533 30.757C23.6718 30.2385 23.9631 29.5352 23.9631 28.8019V9.67746L28.4585 14.1752C28.7157 14.4323 29.0211 14.6364 29.3571 14.7756C29.6931 14.9148 30.0533 14.9864 30.417 14.9864C30.7808 14.9864 31.141 14.9148 31.477 14.7756C31.813 14.6364 32.1184 14.4323 32.3756 14.1752C32.6328 13.918 32.8368 13.6126 32.976 13.2766C33.1152 12.9405 33.1868 12.5804 33.1868 12.2166C33.1868 11.8529 33.1152 11.4927 32.976 11.1567C32.8368 10.8206 32.6328 10.5153 32.3756 10.2581L23.159 1.04151C22.9021 0.783742 22.5969 0.579216 22.2608 0.439662C21.9247 0.300108 21.5644 0.228271 21.2005 0.228271C20.8365 0.228271 20.4762 0.300108 20.1401 0.439662C19.804 0.579216 19.4988 0.783742 19.2419 1.04151L10.0253 10.2581C9.76815 10.5153 9.56413 10.8206 9.42493 11.1567C9.28574 11.4927 9.2141 11.8529 9.2141 12.2166C9.2141 12.9512 9.50591 13.6557 10.0253 14.1752C10.5448 14.6946 11.2493 14.9864 11.9839 14.9864C12.7185 14.9864 13.423 14.6946 13.9424 14.1752L13.9378 14.1682Z"
              fill="currentColor"
            />
          </svg>
        }
        size="small"
        color="natural"
        className="w-60 capitalize"
      >
        export
      </Button>
      <Button
        startIcon={
          <svg viewBox="0 0 51 30" fill="none" className="h-5 w-5">
            <path
              d="M47.8962 5.83325H2.89624C2.2332 5.83325 1.59731 5.56986 1.12847 5.10102C0.659632 4.63218 0.39624 3.99629 0.39624 3.33325C0.39624 2.67021 0.659632 2.03433 1.12847 1.56548C1.59731 1.09664 2.2332 0.833252 2.89624 0.833252H47.8962C48.5593 0.833252 49.1952 1.09664 49.664 1.56548C50.1328 2.03433 50.3962 2.67021 50.3962 3.33325C50.3962 3.99629 50.1328 4.63218 49.664 5.10102C49.1952 5.56986 48.5593 5.83325 47.8962 5.83325ZM39.5629 17.4999H11.2296C10.5665 17.4999 9.93065 17.2365 9.46181 16.7677C8.99296 16.2988 8.72957 15.663 8.72957 14.9999C8.72957 14.3369 8.99296 13.701 9.46181 13.2322C9.93065 12.7633 10.5665 12.4999 11.2296 12.4999H39.5629C40.2259 12.4999 40.8618 12.7633 41.3307 13.2322C41.7995 13.701 42.0629 14.3369 42.0629 14.9999C42.0629 15.663 41.7995 16.2988 41.3307 16.7677C40.8618 17.2365 40.2259 17.4999 39.5629 17.4999ZM29.5629 29.1666H21.2296C20.5665 29.1666 19.9306 28.9032 19.4618 28.4344C18.993 27.9655 18.7296 27.3296 18.7296 26.6666C18.7296 26.0035 18.993 25.3677 19.4618 24.8988C19.9306 24.43 20.5665 24.1666 21.2296 24.1666H29.5629C30.2259 24.1666 30.8618 24.43 31.3307 24.8988C31.7995 25.3677 32.0629 26.0035 32.0629 26.6666C32.0629 27.3296 31.7995 27.9655 31.3307 28.4344C30.8618 28.9032 30.2259 29.1666 29.5629 29.1666Z"
              fill="currentColor"
            />
          </svg>
        }
        size="small"
        variant="contained"
        color="natural"
        sx={{}}
        onClick={() => setModal(true)}
        className=" w-60 whitespace-nowrap capitalize"
      >
        add {page}
      </Button>
      {formList && (
        <Modal
          open={modal}
          onClose={() => setModal(false)}
          aria-labelledby="modal-modal-title"
          aria-describedby="modal-modal-description"
          className="grid place-content-center"
        >
          <form
            action={() => {
              console.log('hey you here');
            }}
          >
            <Box className="rounded-md bg-white p-5 ">
              <Typography className="text-center text-3xl font-bold">
                Add {page}
              </Typography>
              {formList}
              <Box className="flex justify-end gap-x-4 p-5">
                <Button
                  color="natural"
                  size="small"
                  variant="outlined"
                  className=""
                  onClick={() => {
                    setModal(false);
                  }}
                >
                  cancel
                </Button>
                <Button
                  color="primary"
                  size="small"
                  type="submit"
                  className="bg-[#181A41] capitalize text-white hover:bg-[#181A41]"
                >
                  add
                </Button>
              </Box>
            </Box>
          </form>
        </Modal>
      )}
    </div>
  );
}
