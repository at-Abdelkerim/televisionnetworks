'use client';
import { useFormState } from 'react-dom';
import {
  Button,
  FormControl,
  Input,
  InputAdornment,
  InputLabel,
  OutlinedInput,
  TextField,
} from '@mui/material';
import { AccountCircle } from '@mui/icons-material';
import { authenticate } from '../lib/action';

declare module '@mui/material' {
  interface TextFieldPropsColorOverrides {
    natural: true;
  }
  interface ButtonPropsColorOverrides {
    natural: true;
  }
}

export default function Page() {
  const [errorMessage, dispatch] = useFormState(authenticate, undefined);

  return (
    <div className="grid grid-cols-[720px_1fr] h-screen">
      <div className="place-content-center grid bg-black">
        <svg
          width="508"
          height="458"
          viewBox="0 0 508 458"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M314.602 164.228C315.771 163.061 363.807 121.081 363.807 121.081L355.622 117.579C350.945 115.291 352.161 112.209 353.283 109.454C354.406 105.905 362.685 78.0282 362.685 78.0282C362.685 78.0282 340.374 82.6978 335.697 83.8652C332.189 84.9858 331.019 82.6978 329.85 80.363C328.681 78.0282 322.834 65.2336 322.834 65.2336C322.834 65.2336 298.231 93.2042 297.062 94.3249C292.385 97.8271 287.661 94.3249 288.83 89.6554C288.83 84.9858 301.739 29.138 301.739 29.138C301.739 29.138 287.661 37.263 282.983 39.5978C279.475 41.9326 277.09 41.9326 274.751 37.263C272.366 33.7609 254.779 0 254.779 0C254.779 0 237.239 33.7609 234.901 37.263C232.562 41.9326 230.223 41.9326 226.668 39.5978C221.991 37.263 207.912 29.138 207.912 29.138C207.912 29.138 220.822 84.9858 220.822 89.6554C221.991 94.3249 217.314 97.8271 212.59 94.3249C211.42 93.1576 186.818 65.2336 186.818 65.2336C186.818 65.2336 180.971 77.9815 179.802 80.3163C178.632 82.6511 177.463 84.9391 173.955 83.8185C169.231 82.6511 146.967 77.9815 146.967 77.9815C146.967 77.9815 155.199 105.859 156.368 109.408C157.491 112.209 158.707 115.245 154.03 117.533L145.844 121.081C145.844 121.081 193.834 163.061 195.05 164.228C197.435 166.563 199.727 167.73 197.435 174.735C195.05 181.739 192.711 191.125 192.711 191.125C192.711 191.125 237.239 181.739 241.963 180.572C246.033 180.151 250.523 181.739 250.523 186.409C250.523 191.078 247.81 239.081 247.81 239.081H261.842C261.842 239.081 259.129 191.125 259.129 186.409C259.129 181.692 263.572 180.151 267.735 180.572C272.413 181.739 316.941 191.125 316.941 191.125C316.941 191.125 314.602 181.739 312.263 174.735C309.925 167.73 312.263 166.563 314.602 164.228Z"
            fill="url(#paint0_linear_48_598)"
          />
          <path
            d="M0 376.908V362.636H75.1128V376.908H46.0147V456.623H29.0982V376.908H0Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M125.839 402.791V416.467H83.4562V402.791H125.839Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M144.077 362.636H164.947L192.896 430.74H193.999L221.948 362.636H242.818V456.623H226.453V392.053H225.58L199.562 456.348H187.334L161.316 391.915H160.442V456.623H144.077V362.636Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M291.453 458C284.558 458 278.582 456.486 273.525 453.457C268.469 450.428 264.546 446.19 261.757 440.744C258.999 435.299 257.62 428.935 257.62 421.653C257.62 414.372 258.999 407.993 261.757 402.516C264.546 397.04 268.469 392.787 273.525 389.758C278.582 386.729 284.558 385.215 291.453 385.215C298.348 385.215 304.324 386.729 309.381 389.758C314.437 392.787 318.345 397.04 321.103 402.516C323.892 407.993 325.286 414.372 325.286 421.653C325.286 428.935 323.892 435.299 321.103 440.744C318.345 446.19 314.437 450.428 309.381 453.457C304.324 456.486 298.348 458 291.453 458ZM291.545 444.691C295.284 444.691 298.41 443.666 300.923 441.616C303.435 439.536 305.305 436.752 306.531 433.264C307.787 429.776 308.415 425.891 308.415 421.607C308.415 417.293 307.787 413.393 306.531 409.905C305.305 406.386 303.435 403.587 300.923 401.506C298.41 399.426 295.284 398.386 291.545 398.386C287.714 398.386 284.527 399.426 281.983 401.506C279.47 403.587 277.586 406.386 276.329 409.905C275.103 413.393 274.491 417.293 274.491 421.607C274.491 425.891 275.103 429.776 276.329 433.264C277.586 436.752 279.47 439.536 281.983 441.616C284.527 443.666 287.714 444.691 291.545 444.691Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M400.077 386.133L374.932 456.623H356.545L331.4 386.133H349.144L365.371 438.496H366.106L382.379 386.133H400.077Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M411.592 456.623V386.133H428.233V456.623H411.592ZM419.958 376.128C417.323 376.128 415.055 375.256 413.155 373.512C411.255 371.738 410.305 369.611 410.305 367.133C410.305 364.624 411.255 362.498 413.155 360.754C415.055 358.979 417.323 358.092 419.958 358.092C422.625 358.092 424.892 358.979 426.762 360.754C428.662 362.498 429.612 364.624 429.612 367.133C429.612 369.611 428.662 371.738 426.762 373.512C424.892 375.256 422.625 376.128 419.958 376.128Z"
            fill="white"
            fill-opacity="0.8"
          />
          <path
            d="M476.603 458C469.524 458 463.41 456.531 458.262 453.594C453.144 450.627 449.206 446.435 446.448 441.02C443.69 435.574 442.311 429.164 442.311 421.791C442.311 414.54 443.69 408.176 446.448 402.7C449.237 397.193 453.129 392.909 458.124 389.85C463.119 386.76 468.988 385.215 475.73 385.215C480.082 385.215 484.188 385.918 488.05 387.326C491.942 388.702 495.374 390.844 498.347 393.751C501.35 396.657 503.71 400.359 505.426 404.857C507.142 409.323 508 414.647 508 420.827V425.921H450.125V414.723H492.049C492.018 411.542 491.329 408.712 489.98 406.233C488.632 403.725 486.747 401.751 484.326 400.313C481.936 398.875 479.147 398.156 475.96 398.156C472.558 398.156 469.57 398.982 466.996 400.634C464.422 402.256 462.414 404.398 460.974 407.059C459.564 409.691 458.844 412.582 458.813 415.733V425.508C458.813 429.608 459.564 433.126 461.066 436.063C462.568 438.97 464.667 441.203 467.364 442.764C470.06 444.293 473.217 445.058 476.833 445.058C479.254 445.058 481.445 444.722 483.407 444.049C485.368 443.345 487.069 442.32 488.509 440.974C489.95 439.628 491.038 437.96 491.773 435.972L507.31 437.716C506.33 441.815 504.46 445.395 501.702 448.454C498.975 451.483 495.481 453.839 491.221 455.522C486.962 457.174 482.089 458 476.603 458Z"
            fill="white"
            fill-opacity="0.8"
          />
          <defs>
            <linearGradient
              id="paint0_linear_48_598"
              x1="254"
              y1="0"
              x2="254"
              y2="458"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset="0.325" stop-color="#2D85A8" />
              <stop offset="0.96" stop-color="#9D5BE2" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div className="justify-center grid bg-white pt-[20%]">
        <form
          action={dispatch}
          className="gap-y-[80px] grid mx-[35px] max-w-[710px] h-[461px]"
        >
          <h1 className="font-[lato] font-bold text-[72px] text-center">
            LOGIN
          </h1>
          <div className="space-y-[60px]">
            <div className="space-y-[25px]">
              <TextField
                id="phone-number"
                name="phoneNumber"
                placeholder="Phone number"
                fullWidth
                color="natural"
                autoFocus
                error={!!errorMessage}
                helperText={errorMessage}
                InputProps={{
                  startAdornment: (
                    <InputAdornment position="start">
                      <svg
                        width="36"
                        height="36"
                        viewBox="0 0 44 44"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <ellipse
                          cx="21.2281"
                          cy="13.343"
                          rx="8.75972"
                          ry="8.75973"
                          stroke="#807A7A"
                          stroke-width="1.5"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M7.3334 34.2858C7.33105 33.67 7.46877 33.0617 7.73615 32.507C8.5752 30.8289 10.9413 29.9395 12.9047 29.5368C14.3207 29.2346 15.7563 29.0327 17.2007 28.9327C19.8749 28.6977 22.5646 28.6977 25.2388 28.9327C26.6831 29.0339 28.1186 29.2357 29.5348 29.5368C31.4982 29.9395 33.8643 30.745 34.7034 32.507C35.2411 33.6378 35.2411 34.9506 34.7034 36.0814C33.8643 37.8434 31.4982 38.6489 29.5348 39.0349C28.1204 39.3496 26.6844 39.5571 25.2388 39.6558C23.0622 39.8403 20.8754 39.8739 18.6942 39.7565C18.1908 39.7565 17.7041 39.7565 17.2007 39.6558C15.7605 39.5583 14.33 39.3508 12.9215 39.0349C10.9413 38.6489 8.59198 37.8434 7.73615 36.0814C7.47014 35.5202 7.33255 34.9068 7.3334 34.2858Z"
                          stroke="#807A7A"
                          stroke-width="1.5"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </InputAdornment>
                  ),
                }}
                sx={{
                  '& .MuiInputBase-root': {
                    borderRadius: '10px',
                  },
                  '& input': {
                    fontSize: '20px',
                  },
                }}
              />
              <TextField
                id="password"
                name="password"
                placeholder="Password"
                fullWidth
                color="natural"
                error={!!errorMessage}
                helperText={errorMessage}
                InputProps={{
                  startAdornment: (
                    <InputAdornment position="start">
                      <svg
                        width="36"
                        height="36"
                        viewBox="0 0 36 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M27.8984 16.5316H7.3417C5.71982 16.5316 4.40503 17.8464 4.40503 19.4683V29.7466C4.40503 31.3685 5.71982 32.6833 7.3417 32.6833H27.8984C29.5202 32.6833 30.835 31.3685 30.835 29.7466V19.4683C30.835 17.8464 29.5202 16.5316 27.8984 16.5316Z"
                          stroke="#585858"
                          stroke-width="1.5"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M10.2783 16.5317V10.6583C10.2783 8.71119 11.0518 6.8438 12.4286 5.46697C13.8055 4.09015 15.6729 3.31665 17.62 3.31665C19.5671 3.31665 21.4345 4.09015 22.8113 5.46697C24.1882 6.8438 24.9617 8.71119 24.9617 10.6583V16.5317"
                          stroke="#585858"
                          stroke-width="1.5"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </InputAdornment>
                  ),
                  className: ' text-[20px]',
                }}
                sx={{
                  '& .MuiInputBase-root': {
                    borderRadius: '10px',
                  },
                }}
              />
            </div>
            <Button
              fullWidth
              size="large"
              variant="contained"
              color="natural"
              disableElevation
              type="submit"
              className="rounded-xl font-bold text-[32px]"
            >
              login
            </Button>
          </div>
        </form>
      </div>
    </div>
  );
}
